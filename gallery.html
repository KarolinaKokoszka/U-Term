<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <title>U-Term - galeria</title>
    <link rel="stylesheet" href="gallery.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>

        <div class="logo">
            U-Term
        </div>

    <header>
        <nav>

            <div class="menu-toggle" onclick="toggleMenu()">☰</div>
            <ul id="menu">
                <li><a href="index.html">Home</a></li>
                <li class="has-submenu" onclick="toggleSubmenu(this)">
                    <a>Usługi</a>
                    <ul class="submenu">
                        <li><a href="service1.html">Obróbka skrawaniem</a></li>
                        <li><a href="service2.html">Mobilna obróbka skrawaniem</a></li>
                        <li><a href="service3.html">Spawanie</a></li>
                        <li><a href="service4.html">Regeneracja zaworów przemysłowych</a></li>
                        <li><a href="service5.html">Remonty maszyn budowlanych</a></li>
                    </ul>
                </li>
                <li><a href="gallery.html">Galeria</a></li>
                <li><a href="about_us.html">O nas</a></li>                
                <li><a href="#contact">Kontakt</a></li>
            </ul>
        </nav>
    </header>
    <div class="title">
        <h1>Nasze realizacje</h1>
    </div>
    
    <div id="gallery"></div>

    <div id="modal">
        <div id="modalContent">
          <span class="close" id="modalClose">&times;</span>
          <span class="prev" id="modalPrev">&#10094;</span>
          <span class="next" id="modalNext">&#10095;</span>
          <img id="modalImg" src="" alt="">
          <div class="description" id="modalDescription"></div>
        </div>
      </div>


    <script>
document.addEventListener("DOMContentLoaded", () => {
    // Tablica do przechowywania danych o obrazkach
    let imagesArray = [];

    const galleryDiv = document.getElementById("gallery");
    const modal = document.getElementById("modal");
    const modalImg = document.getElementById("modalImg");
    const modalDescription = document.getElementById("modalDescription");
    const closeBtn = document.getElementById("modalClose");
    const nextBtn = document.getElementById("modalNext");
    const prevBtn = document.getElementById("modalPrev");
    
    let currentIndex = 0;
    
    // Pobierz dane z pliku JSON
    fetch("gallery.json")
        .then(response => {
            if (!response.ok) {
                throw new Error("Błąd wczytywania pliku JSON");
            }
            return response.json();
        })
        .then(images => {
            imagesArray = images; // zapisz dane globalnie
            
            images.forEach((img, index) => {
                // Utwórz kontener obrazka
                const imgContainer = document.createElement("div");
                imgContainer.classList.add("image-container");

                // Utwórz element <img>
                const imgElement = document.createElement("img");
                imgElement.src = "galeria/" + img.filename;
                imgElement.alt = img.description;

                // Utwórz tooltip z opisem
                const tooltip = document.createElement("div");
                tooltip.classList.add("tooltip");
                tooltip.textContent = img.description;

                // Dodaj elementy do kontenera
                imgContainer.appendChild(imgElement);
                imgContainer.appendChild(tooltip);
                galleryDiv.appendChild(imgContainer);
                
                // Dodaj obsługę kliknięcia - otwórz modal z klikniętym obrazkiem
                imgContainer.addEventListener("click", () => {
                    currentIndex = index;
                    openModal();
                });
            });
        })
        .catch(error => console.error("Wystąpił problem: ", error));
    
    // Funkcja otwierająca modal
    function openModal() {
        updateModalContent();
        modal.style.display = "flex";
    }
    
    // Aktualizuje zawartość modal'a według currentIndex
    function updateModalContent() {
        const imgObj = imagesArray[currentIndex];
        modalImg.src = "galeria/" + imgObj.filename;
        modalDescription.textContent = imgObj.description;
    }
    
    // Obsługa zamknięcia modal'a
    closeBtn.addEventListener("click", () => {
        modal.style.display = "none";
    });
    
    // Obsługa przycisku następnego obrazka
    nextBtn.addEventListener("click", (e) => {
        e.stopPropagation(); // zapobiega zamknięciu modal'a przy kliknięciu w przycisk
        currentIndex = (currentIndex + 1) % imagesArray.length;
        updateModalContent();
    });
    
    // Obsługa przycisku poprzedniego obrazka
    prevBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        currentIndex = (currentIndex - 1 + imagesArray.length) % imagesArray.length;
        updateModalContent();
    });
    
    // Zamknięcie modal'a po kliknięciu poza zawartością
    modal.addEventListener("click", (e) => {
        if (e.target === modal) {
            modal.style.display = "none";
        }
    });
});
    </script>
    
    


    <section class="contact-info" id="contact">
        <div class="left">
            <div class="logo2">
                U-Term
            </div>
            <p><i class="fas fa-phone"></i> &nbsp; 503 401 890</p>
            <p><i class="fas fa-envelope"></i> &nbsp; biuro.uterm@gmail.com</p>
            <p><i class="fas fa-map-marker-alt"></i> &nbsp; 32-651 Oświęcim, ul. Grobelna 6</p>      
            <p><a>NIP:</a> &nbsp; 5491327806</p>            
      
        </div>
        <div class="right">
            
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2563.197937007718!2d19.29060941073837!3d50.02638677139545!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4716948c15ad5251%3A0xd23ae691dc8fdfdd!2sGrobelna%206%2C%2032-651%20O%C5%9Bwi%C4%99cim!5e0!3m2!1spl!2spl!4v1738694750681!5m2!1spl!2spl" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>

        
    </section>
</body>
</html>



<script>
    function toggleMenu() {
        const menu = document.getElementById("menu");
        menu.classList.toggle("show");
    }
    
    // Zamknięcie menu po kliknięciu poza nim
    document.addEventListener("click", function (event) {
        const menu = document.getElementById("menu");
        const toggleButton = document.querySelector(".menu-toggle");
    
        // Jeśli kliknięto poza menu i poza ikoną ☰, ukryj menu
        if (!menu.contains(event.target) && !toggleButton.contains(event.target)) {
            menu.classList.remove("show");
        }
    });

    document.addEventListener("DOMContentLoaded", function () {
    const menu = document.getElementById("menu");
    const contactLink = document.querySelector("#menu a[href='#contact']");

    contactLink.addEventListener("click", function () {
        if (menu.classList.contains("show")) {
            menu.classList.remove("show");
        }
    });
});
    
    function toggleSubmenu(element) {
    const submenu = element.querySelector('.submenu');
    element.classList.toggle('active'); // Dodaje/usuwa klasę "active" dla rozwoju submenu
}
    </script>
    